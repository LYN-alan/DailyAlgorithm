#### 594.最长和谐子序列

##### 题目描述

> 和谐数组是指一个数组里元素的最大值和最小值之间的差别 正好是 1 。
>
> 现在，给你一个整数数组 nums ，请你在所有可能的子序列中找到最长的和谐子序列的长度。
>
> 数组的子序列是一个由数组派生出来的序列，它可以通过删除一些元素或不删除元素、且不改变其余元素的顺序而得到。
>

##### 示例1

```js
输入：nums = [1,3,2,2,5,2,3,7]
输出：5
解释：最长的和谐子序列是 [3,2,2,2,3]
```

##### 示例2

```js
输入：nums = [1,2,3,4]
输出：2
```

##### 示例3

```js
输入：nums = [1,1,1,1]
输出：0
```

##### 题解

思路是通过哈希表求解，此题是求出存在差值等于1的连续子序列，而且所谓的连续也可以不考虑中间元素，所以使用哈希表，先循环一遍，把数组中所有的数字都放到数组里，如果出现重复则计数累加，最后再通过循环判断，求出存在值和+1值的最大值，代码如下

```js
/**
 * @param {number[]} nums
 * @return {number}
 */
var findLHS = function(nums) {
    // 第一次遍历，把数组中的数字都放到哈希表中，出现重复则计数累加
    let hash = new Map()
    for(const key of nums){
        hash.set(key, (hash.get(key) || 0) + 1)
    }
    let res = 0
    // 第二次循环，找不到出现num值和num+1的key的最大值
    for(const num of hash.keys()){
        if(hash.has(num + 1)){
            res = Math.max(res, hash.get(num) + hash.get(num + 1))
        }
    }
    return res;
}
```

OK！今日打卡完成